import streamlit as st
import numpy as np
import cv2
from PIL import Image
import os

# --- ุฅุนุฏุงุฏุงุช ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ---
st.set_page_config(
    page_title="ูุฎุชุจุฑ ูุนุงูุฌุฉ ุงูุตูุฑ ุงูุชูุงุนูู",
    page_icon="๐ฌ",
    layout="wide",
    initial_sidebar_state="expanded"
)

# --- CSS ูุฎุตุต ูุชุญุณูู ุงูุชุตููู ---
st.markdown("""
<style>
    .main-header {
        text-align: center;
        background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
        padding: 2rem;
        border-radius: 10px;
        color: white;
        margin-bottom: 2rem;
    }
    
    .feature-card {
        background: #f8f9fa;
        padding: 1.5rem;
        border-radius: 10px;
        border-left: 4px solid #667eea;
        margin: 1rem 0;
    }
    
    .lecture-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1rem;
        margin: 2rem 0;
    }
    
    .lecture-card {
        background: white;
        padding: 1.5rem;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        border: 1px solid #e9ecef;
        transition: transform 0.3s ease;
    }
    
    .lecture-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    }
    
    .lecture-number {
        background: #667eea;
        color: white;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        margin-bottom: 1rem;
    }
    
    .sidebar-info {
        background: #e3f2fd;
        padding: 1rem;
        border-radius: 8px;
        margin: 1rem 0;
    }
</style>
""", unsafe_allow_html=True)

# --- ุงูุดุฑูุท ุงูุฌุงูุจู ---
with st.sidebar:
    st.markdown("""
    <div class="sidebar-info">
        <h3>๐ฏ ุฏููู ุงูุงุณุชุฎุฏุงู</h3>
        <p>โข ุงุฎุชุฑ ูุญุงุถุฑุฉ ูู ุงููุงุฆูุฉ ุฃุนูุงู</p>
        <p>โข ุงุฑูุน ุตูุฑุชู ุฃู ุงุณุชุฎุฏู ุงูุตูุฑ ุงูุงูุชุฑุงุถูุฉ</p>
        <p>โข ุฌุฑุจ ุงูุฃุฏูุงุช ุงูุชูุงุนููุฉ</p>
        <p>โข ุงุญูุธ ุงููุชุงุฆุฌ ุฃู ุงูุณุฎ ุงูููุฏ</p>
    </div>
    """, unsafe_allow_html=True)
    
    st.markdown("---")
    
    # ูุนูููุงุช ุฅุถุงููุฉ
    st.markdown("### ๐ ุฅุญุตุงุฆูุงุช ุงููุดุฑูุน")
    st.metric("ุนุฏุฏ ุงููุญุงุถุฑุงุช", "9")
    st.metric("ุนุฏุฏ ุงูุชูููุงุช", "25+")
    st.metric("ุงููุณุชูู", "ูุจุชุฏุฆ โ ูุชูุฏู")

# --- ูุญุชูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ---
st.markdown("""
<div class="main-header">
    <h1>๐ฌ ูุฎุชุจุฑ ูุนุงูุฌุฉ ุงูุตูุฑ ุงูุชูุงุนูู</h1>
    <p>ุชุนูู ูุนุงูุฌุฉ ุงูุตูุฑ ุงูุฑูููุฉ ุจุทุฑููุฉ ุชูุงุนููุฉ ูุนูููุฉ</p>
</div>
""", unsafe_allow_html=True)

# --- ููุฏูุฉ ุงููุดุฑูุน ---
col1, col2 = st.columns([2, 1])

with col1:
    st.markdown("""
    ## ๐ ูุฑุญุจูุง ุจู ูู ุฑุญูุฉ ุชุนูู ูุนุงูุฌุฉ ุงูุตูุฑ!
    
    ูุฐุง ุงูุชุทุจูู ูู ุจูุฆุฉ ุชุนููููุฉ ุชูุงุนููุฉ ูุตููุฉ ูุดุฑุญ ุงูููุงููู ุงูุฃุณุงุณูุฉ ูุงููุชูุฏูุฉ ูู ุนุงูู ูุนุงูุฌุฉ ุงูุตูุฑ ุงูุฑูููุฉ.
    ุชู ุจูุงุก ูุฐุง ุงููุดุฑูุน ุจุงุณุชุฎุฏุงู **Streamlit** ู **OpenCV** ูุชูุฏูู ุชุฌุฑุจุฉ ุนูููุฉ ุฏูู ุงูุญุงุฌุฉ ููุชุงุจุฉ ุฃู ุณุทุฑ ุจุฑูุฌู.
    
    ### โจ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ:
    """)
    
    features = [
        ("๐ฏ", "ุชุนูู ุชูุงุนูู", "ุชุทุจูู ููุฑู ููููุงููู ุนูู ุงูุตูุฑ ุงูุญููููุฉ"),
        ("๐ง", "ุฃุฏูุงุช ูุชูุฏูุฉ", "ููุฒููุงุช ูููุงุฑูุงุช ุชูุงุนููุฉ ููุตูุฑ"),
        ("๐พ", "ุญูุธ ููุณุฎ", "ุงุญูุธ ุงููุชุงุฆุฌ ุฃู ุงูุณุฎ ุงูููุฏ ุงูุจุฑูุฌู"),
        ("๐ฑ", "ุชุตููู ูุชุฌุงูุจ", "ูุนูู ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ ูุงูุดุงุดุงุช"),
        ("๐จ", "ูุงุฌูุฉ ุฃูููุฉ", "ุชุตููู ุนุตุฑู ูุณูู ุงูุงุณุชุฎุฏุงู"),
        ("๐", "ููุงุฑูุฉ ููุฑูุฉ", "ุดุงูุฏ ุงูุชุบููุฑุงุช ูุจู ูุจุนุฏ ุงูุชุทุจูู")
    ]
    
    for icon, title, desc in features:
        st.markdown(f"""
        <div class="feature-card">
            <strong>{icon} {title}:</strong> {desc}
        </div>
        """, unsafe_allow_html=True)

with col2:
    # ุนุฑุถ ุตูุฑุฉ ุชูุถูุญูุฉ (ุณูุถูููุง ูุงุญูุงู)
    st.markdown("""
    ### ๐ ุงุจุฏุฃ ุงูุขู!
    
    ุงุฎุชุฑ ุฅุญุฏู ุงููุญุงุถุฑุงุช ูู ุงูุดุฑูุท ุงูุฌุงูุจู ููุจุฏุก ูู ุฑุญูุฉ ุงูุชุนูู.
    
    **ูุตุงุฆุญ ูููุจุชุฏุฆูู:**
    - ุงุจุฏุฃ ุจุงููุญุงุถุฑุฉ ุงูุฃููู
    - ุฌุฑุจ ูู ุฃุฏุงุฉ ุจููุณู
    - ูุง ุชุชุฑุฏุฏ ูู ุชุฌุฑุจุฉ ุตูุฑู ุงูุฎุงุตุฉ
    - ุงุณุชุฎุฏู ุฎุงุตูุฉ ูุณุฎ ุงูููุฏ ููุชุนูู
    """)

# --- ุฎุฑูุทุฉ ุงููุญุงุถุฑุงุช ---
st.markdown("## ๐ ุฎุฑูุทุฉ ุงููุญุงุถุฑุงุช")

lectures = [
    {
        "number": 1,
        "title": "ูุฏุฎู ููุนูุงุฑูุฉ ุงูุตูุฑ",
        "description": "ุชุนุฑู ุนูู ุงูุจูุณู ูุงูุฃุจุนุงุฏ ูุงููููุงุช ุงูููููุฉ",
        "icon": "๐ผ๏ธ",
        "level": "ูุจุชุฏุฆ"
    },
    {
        "number": 2,
        "title": "ุฃูุธูุฉ ุงูุฃููุงู",
        "description": "RGB, HSV, Grayscale ูุงูุชุญููู ุจูููุง",
        "icon": "๐จ",
        "level": "ูุจุชุฏุฆ"
    },
    {
        "number": 3,
        "title": "ุงูุนูููุงุช ุนูู ุงูุจูุณู",
        "description": "ุงูุณุทูุนุ ุงูุชุจุงููุ ูุงูุตูุฑ ุงูุณุงูุจุฉ",
        "icon": "โจ",
        "level": "ูุจุชุฏุฆ"
    },
    {
        "number": 4,
        "title": "ุงูููุงุชุฑ ูุงูุงูุชูุงู",
        "description": "Blur, Sharpen, Edge Detection",
        "icon": "๐",
        "level": "ูุชูุณุท"
    },
    {
        "number": 5,
        "title": "ุฅุฒุงูุฉ ุงูุถูุถุงุก",
        "description": "ุชูุธูู ุงูุตูุฑ ูู ุงูุชุดููุด",
        "icon": "๐งน",
        "level": "ูุชูุณุท"
    },
    {
        "number": 6,
        "title": "ูุดู ุงูุญูุงู",
        "description": "Sobel, Canny, Laplacian",
        "icon": "๐",
        "level": "ูุชูุณุท"
    },
    {
        "number": 7,
        "title": "ุงูุนูููุงุช ุงูููุฑููููุฌูุฉ",
        "description": "Erosion, Dilation, Opening, Closing",
        "icon": "๐ฌ",
        "level": "ูุชูุฏู"
    },
    {
        "number": 8,
        "title": "ุงูุชุญูููุงุช ุงูููุฏุณูุฉ",
        "description": "ุฏูุฑุงูุ ุชูุจูุฑุ ุงูุนูุงุณุ ูุต",
        "icon": "๐",
        "level": "ูุชูุฏู"
    },
    {
        "number": 9,
        "title": "ุงููุดุฑูุน ุงูุฎุชุงูู",
        "description": "ุณูุณูุฉ ุนูููุงุช ูุชูุฏูุฉ ูุชูุงุนููุฉ",
        "icon": "๐ฏ",
        "level": "ุฎุจูุฑ"
    }
]

# ุนุฑุถ ุงููุญุงุถุฑุงุช ูู ุดุจูุฉ
lecture_cards_html = '<div class="lecture-grid">'
for lecture in lectures:
    level_color = {
        "ูุจุชุฏุฆ": "#28a745",
        "ูุชูุณุท": "#ffc107", 
        "ูุชูุฏู": "#fd7e14",
        "ุฎุจูุฑ": "#dc3545"
    }
    
    lecture_cards_html += f"""
    <div class="lecture-card">
        <div class="lecture-number">{lecture['number']}</div>
        <h4>{lecture['icon']} {lecture['title']}</h4>
        <p>{lecture['description']}</p>
        <span style="background: {level_color[lecture['level']]}; color: white; padding: 0.2rem 0.5rem; border-radius: 15px; font-size: 0.8rem;">
            {lecture['level']}
        </span>
    </div>
    """

lecture_cards_html += '</div>'
st.markdown(lecture_cards_html, unsafe_allow_html=True)

# --- ุชุนูููุงุช ุงูุงุณุชุฎุฏุงู ---
st.markdown("---")
st.markdown("## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู")

col1, col2, col3 = st.columns(3)

with col1:
    st.markdown("""
    ### 1๏ธโฃ ุงุฎุชุฑ ุงููุญุงุถุฑุฉ
    ุงุณุชุฎุฏู ุงูุดุฑูุท ุงูุฌุงูุจู ููุชููู ุจูู ุงููุญุงุถุฑุงุช ุงููุฎุชููุฉ. ููุตุญ ุจุงูุจุฏุก ูู ุงููุญุงุถุฑุฉ ุงูุฃููู.
    """)

with col2:
    st.markdown("""
    ### 2๏ธโฃ ุงุฑูุน ุตูุฑุฉ
    ููููู ุฑูุน ุตูุฑุชู ุงูุฎุงุตุฉ ุฃู ุงุณุชุฎุฏุงู ุงูุตูุฑ ุงูุงูุชุฑุงุถูุฉ ุงููุชุงุญุฉ ูู ูู ูุญุงุถุฑุฉ.
    """)

with col3:
    st.markdown("""
    ### 3๏ธโฃ ุฌุฑุจ ูุชุนูู
    ุงุณุชุฎุฏู ุงูุฃุฏูุงุช ุงูุชูุงุนููุฉุ ุดุงูุฏ ุงููุชุงุฆุฌุ ูุงุญูุธ ูุง ุชุนุฌุจู ุฃู ุงูุณุฎ ุงูููุฏ ููุชุนูู.
    """)

# --- ูุนูููุงุช ุฅุถุงููุฉ ---
st.markdown("---")
with st.expander("โน๏ธ ูุนูููุงุช ุชูููุฉ ุฅุถุงููุฉ"):
    st.markdown("""
    **ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ:**
    - **Streamlit**: ูุจูุงุก ุงููุงุฌูุฉ ุงูุชูุงุนููุฉ
    - **OpenCV**: ููุนุงูุฌุฉ ุงูุตูุฑ
    - **NumPy**: ููุนูููุงุช ุงูุฑูุงุถูุฉ ุนูู ุงููุตูููุงุช
    - **scikit-image**: ูุฎูุงุฑุฒููุงุช ูุนุงูุฌุฉ ุงูุตูุฑ ุงููุชูุฏูุฉ
    
    **ูุชุทูุจุงุช ุงููุธุงู:**
    - Python 3.7+
    - ุฐุงูุฑุฉ: 4GB RAM (ูุณุชุญุณู)
    - ูุณุงุญุฉ: 500MB ููููุชุจุงุช
    
    **ุฃููุงุน ุงูุตูุฑ ุงููุฏุนููุฉ:**
    - PNG, JPG, JPEG, BMP, TIFF
    - ุญุฏ ุฃูุตู: 50MB ููู ุตูุฑุฉ
    """)

# --- ุชุฐููู ---
st.markdown("---")
st.markdown("""
<div style="text-align: center; color: #666; padding: 2rem;">
    <p>๐ฌ ูุฎุชุจุฑ ูุนุงูุฌุฉ ุงูุตูุฑ ุงูุชูุงุนูู | ุชู ุงูุชุทููุฑ ุจุงุณุชุฎุฏุงู Streamlit ู OpenCV</p>
    <p>๐ก ูุดุฑูุน ุชุนูููู ูุชุนูู ูุนุงูุฌุฉ ุงูุตูุฑ ุจุทุฑููุฉ ุชูุงุนููุฉ ูุนูููุฉ</p>
</div>
""", unsafe_allow_html=True)

